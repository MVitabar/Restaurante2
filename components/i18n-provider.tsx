"use client"

import type React from "react"

import { createContext, useContext, useState, useEffect } from "react"

// Define supported languages
export type Language = "en" | "es" | "pt"

// Translation dictionaries
const translations = {
  en: {
    // Existing translations...

    // Settings
    profile: "Profile",
    profileSettingsDescription: "Manage your personal information and account settings",
    notifications: "Notifications",
    notificationSettingsDescription: "Configure how you receive notifications",
    language: "Language",
    languageSettingsDescription: "Choose your preferred language",
    appearance: "Appearance",
    appearanceSettingsDescription: "Customize the look and feel of the application",
    tableMaps: "Table Maps",
    tableMapSettingsDescription: "Create and manage restaurant table layouts",
    system: "System",
    systemSettingsDescription: "Configure system-wide settings",

    // Profile
    username: "Username",
    email: "Email",
    phoneNumber: "Phone Number",
    position: "Position",
    positionPlaceholder: "e.g. Head Waiter, Bartender",
    role: "Role",
    selectRole: "Select a role",
    uploadPhoto: "Upload Photo",
    emailCannotBeChanged: "Email cannot be changed",
    saveChanges: "Save Changes",
    saving: "Saving...",
    profileUpdated: "Profile Updated",
    profileUpdateSuccess: "Your profile has been updated successfully",
    profileUpdateFailed: "Profile Update Failed",
    profileUpdateError: "There was an error updating your profile",

    // Notifications
    notificationTypes: "Notification Types",
    newOrders: "New Orders",
    newOrdersDescription: "Receive notifications when new orders are created",
    orderUpdates: "Order Updates",
    orderUpdatesDescription: "Receive notifications when orders are updated",
    inventoryAlerts: "Inventory Alerts",
    inventoryAlertsDescription: "Receive notifications when inventory items are low",
    systemAnnouncements: "System Announcements",
    systemAnnouncementsDescription: "Receive important system announcements",
    dailyReports: "Daily Reports",
    dailyReportsDescription: "Receive daily summary reports",
    deliveryMethods: "Delivery Methods",
    emailNotifications: "Email Notifications",
    emailNotificationsDescription: "Receive notifications via email",
    pushNotifications: "Push Notifications",
    pushNotificationsDescription: "Receive notifications in your browser",
    soundAlerts: "Sound Alerts",
    soundAlertsDescription: "Play sound when notifications arrive",
    notificationPreferencesSaved: "Notification Preferences Saved",
    notificationPreferencesSuccess: "Your notification preferences have been saved successfully",
    notificationPreferencesFailed: "Notification Preferences Failed",
    notificationPreferencesError: "There was an error saving your notification preferences",

    // Language
    languagePreferenceSaved: "Language Preference Saved",
    languagePreferenceSuccess: "Your language preference has been saved successfully",
    languagePreferenceFailed: "Language Preference Failed",
    languagePreferenceError: "There was an error saving your language preference",

    // Appearance
    lightMode: "Light Mode",
    darkMode: "Dark Mode",
    systemMode: "System Mode",
    appearancePreferenceSaved: "Appearance Preference Saved",
    appearancePreferenceSuccess: "Your appearance preference has been saved successfully",
    appearancePreferenceFailed: "Appearance Preference Failed",
    appearancePreferenceError: "There was an error saving your appearance preference",

    // Table Maps
    createTableMap: "Create Table Map",
    createTableMapDescription: "Create a new table layout for your restaurant",
    mapName: "Map Name",
    mapNamePlaceholder: "e.g. Main Dining Room, Patio",
    mapDescription: "Description",
    mapDescriptionPlaceholder: "e.g. First floor dining area",
    create: "Create",
    cancel: "Cancel",
    viewTableMap: "View Map",
    editTableMap: "Edit Map",
    deleteTableMap: "Delete Map",
    noTableMapsFound: "No Table Maps Found",
    noTableMapsFoundDescription: "Create your first table map to get started",

    // Tables
    tables: "Tables",
    tableNumber: "Table Number",
    seats: "Seats",
    shape: "Shape",
    square: "Square",
    round: "Round",
    rectangle: "Rectangle",
    status: "Status",
    available: "Available",
    occupied: "Occupied",
    reserved: "Reserved",
    maintenance: "Maintenance",
    positionX: "Position X",
    positionY: "Position Y",
    width: "Width",
    height: "Height",
    editTable: "Edit Table",
    tableProperties: "Table Properties",
    selectShape: "Select a shape",
    selectStatus: "Select a status",
    addTable: "Add Table",
    deleteTable: "Delete Table",
    noTablesInMap: "No tables in this map",
    selectTableToEdit: "Select a table to edit or add a new one",

    // Table Map View
    tableMapNotFound: "Table Map Not Found",
    tableMapNotFoundDescription: "The requested table map could not be found",
    backToSettings: "Back to Settings",
    table: "Table",
    activeOrder: "Active Order",
    noActiveOrder: "No Active Order",
    tableAvailableDescription: "This table is available for new orders",
    tableReservedDescription: "This table is reserved",
    tableMaintenanceDescription: "This table is under maintenance",
    selectTable: "Select a Table",
    selectTableDescription: "Click on a table to view details and manage orders",
    waiter: "Waiter",
    orderTime: "Order Time",
    items: "Items",
    total: "Total",
    close: "Close",
    editOrder: "Edit Order",
    markAsServed: "Mark as Served",
    createOrder: "Create Order",
    createOrderForTable: "Create Order for Table",
    createOrderDescription: "Add items to the order and specify any special requirements",

    // Order Form
    category: "Category",
    selectCategory: "Select a category",
    allCategories: "All Categories",
    menuItem: "Menu Item",
    selectMenuItem: "Select a menu item",
    quantity: "Quantity",
    itemNotes: "Item Notes",
    itemNotesPlaceholder: "e.g. No onions, extra sauce",
    itemDietaryRestrictions: "Item Dietary Restrictions",
    glutenFree: "Gluten-Free",
    lactoseFree: "Lactose-Free",
    vegan: "Vegan",
    vegetarian: "Vegetarian",
    celiacFriendly: "Celiac-Friendly",
    addToOrder: "Add to Order",
    orderSummary: "Order Summary",
    item: "Item",
    price: "Price",
    noItemsInOrder: "No items in order",
    specialRequests: "Special Requests",
    specialRequestsPlaceholder: "Any special requests for the entire order",
    orderDietaryRestrictions: "Order Dietary Restrictions",
    submitOrder: "Submit Order",

    // Order Status
    pending: "Pending",
    preparing: "Preparing",
    ready: "Ready",
    delivered: "Delivered",
    cancelled: "Cancelled",

    // Dietary Restrictions
    "gluten-free": "Gluten-Free",
    "lactose-free": "Lactose-Free",
    vegan: "Vegan",
    vegetarian: "Vegetarian",
    "celiac-friendly": "Celiac-Friendly",
    dietaryRestrictions: "Dietary Restrictions",

    // Table Management
    tableNumberExists: "Table number already exists",
    tableAddedSuccess: "Table added successfully",
    tableAddedError: "Failed to add table",
    tableUpdateError: "Failed to update table",
    tableDeletedSuccess: "Table deleted successfully",
    tableDeletedError: "Failed to delete table",

    // Order Management
    closeOrderForTable: "Close Order for Table",
    closeOrderDescription: "Complete the order and process payment",
    subtotal: "Subtotal",
    tax: "Tax",
    discount: "Discount",
    discountAmount: "Discount Amount",
    paymentMethod: "Payment Method",
    paymentAmount: "Payment Amount",
    tipAmount: "Tip Amount",
    referenceNumber: "Reference Number",
    referenceNumberPlaceholder: "Transaction reference or last 4 digits",
    completePayment: "Complete Payment",
    cash: "Cash",
    creditCard: "Credit Card",
    debitCard: "Debit Card",
    otherPayment: "Other Payment",

    // Reports
    reports: "Reports",
    exportToCSV: "Export to CSV",
    filterOptions: "Filter Options",
    filterDescription: "Filter orders by date range and search criteria",
    startDate: "Start Date",
    endDate: "End Date",
    search: "Search",
    searchPlaceholder: "Search by waiter, table, or order ID",
    totalSales: "Total Sales",
    averageOrderValue: "Average Order Value",
    totalTips: "Total Tips",
    totalOrders: "Total Orders",
    perOrder: "per order",
    ofSales: "of sales",
    closedOrders: "closed orders",
    ordersList: "Orders List",
    topSellingItems: "Top Selling Items",
    salesByCategory: "Sales by Category",
    salesByPaymentMethod: "Sales by Payment Method",
    showing: "Showing",
    of: "of",
    orderId: "Order ID",
    table: "Table",
    waiter: "Waiter",
    date: "Date",
    items: "Items",
    total: "Total",
    payment: "Payment",
    noOrdersFound: "No orders found",
    showingFirst: "Showing first",
    topSellingItemsDescription: "Most popular items by quantity sold",
    salesByCategoryDescription: "Revenue breakdown by category",
    salesByPaymentMethodDescription: "Revenue breakdown by payment method",
    item: "Item",
    quantity: "Quantity",
    revenue: "Revenue",
    percentage: "Percentage",
    category: "Category",
    noDataAvailable: "No data available",

    // Advanced Reports
    advancedReports: "Advanced Reports",
    restaurantReports: "Restaurant Reports",
    restaurantReportsDescription:
      "Generate comprehensive reports with detailed information about your restaurant's performance",
    generateReport: "Generate Report",
    print: "Print",
    exportExcel: "Export to Excel",
    exportPDF: "Export to PDF",
    period: "Period",
    daily: "Daily",
    weekly: "Weekly",
    monthly: "Monthly",
    yearly: "Yearly",
    custom: "Custom",
    allTime: "All Time",
    selectDateRange: "Select date range",
    restaurantReport: "Restaurant Report",

    // Report Sections
    salesAndBilling: "Sales and Billing",
    orderManagement: "Order Management",
    inventoryControl: "Inventory Control",
    financialInformation: "Financial Information",
    staffPerformance: "Staff Performance",
    customersAndMarketing: "Customers and Marketing",
    reservationsAndOccupancy: "Reservations and Occupancy",

    // Report Data
    totalRevenue: "Total Revenue",
    totalCosts: "Total Costs",
    grossProfit: "Gross Profit",
    profitMargin: "Profit Margin",
    totalStaff: "Total Staff",
    totalHours: "Total Hours",
    ordersPerHour: "Orders Per Hour",
    avgPerformanceRating: "Avg. Performance Rating",
    totalCustomers: "Total Customers",
    newCustomers: "New Customers",
    returningCustomers: "Returning Customers",
    avgSatisfaction: "Avg. Satisfaction",
    totalReservations: "Total Reservations",
    completedReservations: "Completed Reservations",
    cancelledReservations: "Cancelled Reservations",
    noShows: "No-Shows",
    totalItems: "Total Items",
    lowStockItems: "Low Stock Items",
    outOfStockItems: "Out of Stock Items",
    totalInventoryValue: "Total Inventory Value",
    completedOrders: "Completed Orders",
    pendingOrders: "Pending Orders",
    cancelledOrders: "Cancelled Orders",
    avgServiceTime: "Avg. Service Time",
    minutes: "minutes",
    loadingReportData: "Loading report data...",
    noDetailedDataAvailable: "No detailed data available for this section",

    // Table status
    ordering: "Ordering",
    preparing: "Preparing",
    ready: "Ready",
    served: "Served",

    // Table map controls
    zoomIn: "Zoom In",
    zoomOut: "Zoom Out",
    resetView: "Reset View",
    refresh: "Refresh",
    zoom: "Zoom",

    // Table map tooltips
    tableStatus: "Table Status",
    tableDetails: "Table Details",

    // Grid view
    gridView: "Grid View",
    mapView: "Map View",
    searchTables: "Search tables...",
    allStatuses: "All Statuses",
    sortBy: "Sort By",
    noTablesMatchFilter: "No tables match your filter criteria",

    // Table card
    edit: "Edit",
    delete: "Delete",
    viewOrder: "View Order",
    serve: "Serve",
    close: "Close",
    confirmDelete: "Confirm Delete",
    deleteTableConfirmation: "Are you sure you want to delete table {table}? This action cannot be undone.",
  },
  es: {
    // Existing translations...

    // Settings
    profile: "Perfil",
    profileSettingsDescription: "Administra tu información personal y configuración de cuenta",
    notifications: "Notificaciones",
    notificationSettingsDescription: "Configura cómo recibes notificaciones",
    language: "Idioma",
    languageSettingsDescription: "Elige tu idioma preferido",
    appearance: "Apariencia",
    appearanceSettingsDescription: "Personaliza el aspecto de la aplicación",
    tableMaps: "Mapas de Mesas",
    tableMapSettingsDescription: "Crea y administra distribuciones de mesas del restaurante",
    system: "Sistema",
    systemSettingsDescription: "Configura ajustes del sistema",

    // Profile
    username: "Nombre de Usuario",
    email: "Correo Electrónico",
    phoneNumber: "Número de Teléfono",
    position: "Posición",
    positionPlaceholder: "ej. Mesero Principal, Barman",
    role: "Rol",
    selectRole: "Selecciona un rol",
    uploadPhoto: "Subir Foto",
    emailCannotBeChanged: "El correo electrónico no puede cambiarse",
    saveChanges: "Guardar Cambios",
    saving: "Guardando...",
    profileUpdated: "Perfil Actualizado",
    profileUpdateSuccess: "Tu perfil ha sido actualizado exitosamente",
    profileUpdateFailed: "Actualización de Perfil Fallida",
    profileUpdateError: "Hubo un error al actualizar tu perfil",

    // Notifications
    notificationTypes: "Tipos de Notificaciones",
    newOrders: "Nuevas Comandas",
    newOrdersDescription: "Recibir notificaciones cuando se crean nuevas comandas",
    orderUpdates: "Actualizaciones de Comandas",
    orderUpdatesDescription: "Recibir notificaciones cuando se actualizan las comandas",
    inventoryAlerts: "Alertas de Inventario",
    inventoryAlertsDescription: "Recibir notificaciones cuando los artículos de inventario están bajos",
    systemAnnouncements: "Anuncios del Sistema",
    systemAnnouncementsDescription: "Recibir anuncios importantes del sistema",
    dailyReports: "Informes Diarios",
    dailyReportsDescription: "Recibir informes resumidos diarios",
    deliveryMethods: "Métodos de Entrega",
    emailNotifications: "Notificaciones por Correo",
    emailNotificationsDescription: "Recibir notificaciones por correo electrónico",
    pushNotifications: "Notificaciones Push",
    pushNotificationsDescription: "Recibir notificaciones en tu navegador",
    soundAlerts: "Alertas Sonoras",
    soundAlertsDescription: "Reproducir sonido cuando lleguen notificaciones",
    notificationPreferencesSaved: "Preferencias de Notificación Guardadas",
    notificationPreferencesSuccess: "Tus preferencias de notificación han sido guardadas exitosamente",
    notificationPreferencesFailed: "Preferencias de Notificación Fallidas",
    notificationPreferencesError: "Hubo un error al guardar tus preferencias de notificación",

    // Language
    languagePreferenceSaved: "Preferencia de Idioma Guardada",
    languagePreferenceSuccess: "Tu preferencia de idioma ha sido guardada exitosamente",
    languagePreferenceFailed: "Preferencia de Idioma Fallida",
    languagePreferenceError: "Hubo un error al guardar tu preferencia de idioma",

    // Appearance
    lightMode: "Modo Claro",
    darkMode: "Modo Oscuro",
    systemMode: "Modo del Sistema",
    appearancePreferenceSaved: "Preferencia de Apariencia Guardada",
    appearancePreferenceSuccess: "Tu preferencia de apariencia ha sido guardada exitosamente",
    appearancePreferenceFailed: "Preferencia de Apariencia Fallida",
    appearancePreferenceError: "Hubo un error al guardar tu preferencia de apariencia",

    // Table Maps
    createTableMap: "Crear Mapa de Mesas",
    createTableMapDescription: "Crea una nueva distribución de mesas para tu restaurante",
    mapName: "Nombre del Mapa",
    mapNamePlaceholder: "ej. Comedor Principal, Terraza",
    mapDescription: "Descripción",
    mapDescriptionPlaceholder: "ej. Área de comedor del primer piso",
    create: "Crear",
    cancel: "Cancelar",
    viewTableMap: "Ver Mapa",
    editTableMap: "Editar Mapa",
    deleteTableMap: "Eliminar Mapa",
    noTableMapsFound: "No Se Encontraron Mapas de Mesas",
    noTableMapsFoundDescription: "Crea tu primer mapa de mesas para comenzar",

    // Tables
    tables: "Mesas",
    tableNumber: "Número de Mesa",
    seats: "Asientos",
    shape: "Forma",
    square: "Cuadrada",
    round: "Redonda",
    rectangle: "Rectangular",
    status: "Estado",
    available: "Disponible",
    occupied: "Ocupada",
    reserved: "Reservada",
    maintenance: "Mantenimiento",
    positionX: "Posición X",
    positionY: "Posición Y",
    width: "Ancho",
    height: "Alto",
    editTable: "Editar Mesa",
    tableProperties: "Propiedades de la Mesa",
    selectShape: "Selecciona una forma",
    selectStatus: "Selecciona un estado",
    addTable: "Añadir Mesa",
    deleteTable: "Eliminar Mesa",
    noTablesInMap: "No hay mesas en este mapa",
    selectTableToEdit: "Selecciona una mesa para editar o añade una nueva",

    // Table Map View
    tableMapNotFound: "Mapa de Mesas No Encontrado",
    tableMapNotFoundDescription: "El mapa de mesas solicitado no pudo ser encontrado",
    backToSettings: "Volver a Configuración",
    table: "Mesa",
    activeOrder: "Comanda Activa",
    noActiveOrder: "Sin Comanda Activa",
    tableAvailableDescription: "Esta mesa está disponible para nuevas comandas",
    tableReservedDescription: "Esta mesa está reservada",
    tableMaintenanceDescription: "Esta mesa está en mantenimiento",
    selectTable: "Selecciona una Mesa",
    selectTableDescription: "Haz clic en una mesa para ver detalles y gestionar comandas",
    waiter: "Mesero",
    orderTime: "Hora de Comanda",
    items: "Artículos",
    total: "Total",
    close: "Cerrar",
    editOrder: "Editar Comanda",
    markAsServed: "Marcar como Servida",
    createOrder: "Crear Comanda",
    createOrderForTable: "Crear Comanda para Mesa",
    createOrderDescription: "Añade artículos a la comanda y especifica cualquier requisito especial",

    // Order Form
    category: "Categoría",
    selectCategory: "Selecciona una categoría",
    allCategories: "Todas las Categorías",
    menuItem: "Artículo del Menú",
    selectMenuItem: "Selecciona un artículo del menú",
    quantity: "Cantidad",
    itemNotes: "Notas del Artículo",
    itemNotesPlaceholder: "ej. Sin cebolla, salsa extra",
    itemDietaryRestrictions: "Restricciones Dietéticas del Artículo",
    glutenFree: "Sin Gluten",
    lactoseFree: "Sin Lactosa",
    vegan: "Vegano",
    vegetarian: "Vegetariano",
    celiacFriendly: "Apto para Celíacos",
    addToOrder: "Añadir a la Comanda",
    orderSummary: "Resumen de la Comanda",
    item: "Artículo",
    price: "Precio",
    noItemsInOrder: "No hay artículos en la comanda",
    specialRequests: "Peticiones Especiales",
    specialRequestsPlaceholder: "Cualquier petición especial para toda la comanda",
    orderDietaryRestrictions: "Restricciones Dietéticas de la Comanda",
    submitOrder: "Enviar Comanda",

    // Order Status
    pending: "Pendiente",
    preparing: "Preparando",
    ready: "Lista",
    delivered: "Entregada",
    cancelled: "Cancelada",

    // Dietary Restrictions
    "gluten-free": "Sin Gluten",
    "lactose-free": "Sin Lactosa",
    vegan: "Vegano",
    vegetarian: "Vegetariano",
    "celiac-friendly": "Apto para Celíacos",
    dietaryRestrictions: "Restricciones Dietéticas",

    // Table Management
    tableNumberExists: "El número de mesa ya existe",
    tableAddedSuccess: "Mesa añadida exitosamente",
    tableAddedError: "Error al añadir mesa",
    tableUpdateError: "Error al actualizar mesa",
    tableDeletedSuccess: "Mesa eliminada exitosamente",
    tableDeletedError: "Error al eliminar mesa",

    // Order Management
    closeOrderForTable: "Cerrar Comanda para Mesa",
    closeOrderDescription: "Completar la comanda y procesar el pago",
    subtotal: "Subtotal",
    tax: "Impuesto",
    discount: "Descuento",
    discountAmount: "Monto de Descuento",
    paymentMethod: "Método de Pago",
    paymentAmount: "Monto de Pago",
    tipAmount: "Monto de Propina",
    referenceNumber: "Número de Referencia",
    referenceNumberPlaceholder: "Referencia de transacción o últimos 4 dígitos",
    completePayment: "Completar Pago",
    cash: "Efectivo",
    creditCard: "Tarjeta de Crédito",
    debitCard: "Tarjeta de Débito",
    otherPayment: "Otro Método de Pago",

    // Reports
    reports: "Informes",
    exportToCSV: "Exportar a CSV",
    filterOptions: "Opciones de Filtro",
    filterDescription: "Filtrar comandas por rango de fechas y criterios de búsqueda",
    startDate: "Fecha de Inicio",
    endDate: "Fecha de Fin",
    search: "Buscar",
    searchPlaceholder: "Buscar por mesero, mesa o ID de comanda",
    totalSales: "Ventas Totales",
    averageOrderValue: "Valor Promedio de Comanda",
    totalTips: "Propinas Totales",
    totalOrders: "Comandas Totales",
    perOrder: "por comanda",
    ofSales: "de ventas",
    closedOrders: "comandas cerradas",
    ordersList: "Lista de Comandas",
    topSellingItems: "Artículos Más Vendidos",
    salesByCategory: "Ventas por Categoría",
    salesByPaymentMethod: "Ventas por Método de Pago",
    showing: "Mostrando",
    of: "de",
    orderId: "ID de Comanda",
    table: "Mesa",
    waiter: "Mesero",
    date: "Fecha",
    items: "Artículos",
    total: "Total",
    payment: "Pago",
    noOrdersFound: "No se encontraron comandas",
    showingFirst: "Mostrando primeros",
    topSellingItemsDescription: "Artículos más populares por cantidad vendida",
    salesByCategoryDescription: "Desglose de ingresos por categoría",
    salesByPaymentMethodDescription: "Desglose de ingresos por método de pago",
    item: "Artículo",
    quantity: "Cantidad",
    revenue: "Ingresos",
    percentage: "Porcentaje",
    category: "Categoría",
    noDataAvailable: "No hay datos disponibles",

    // Advanced Reports
    advancedReports: "Informes Avanzados",
    restaurantReports: "Informes del Restaurante",
    restaurantReportsDescription:
      "Genere informes completos con información detallada sobre el rendimiento de su restaurante",
    generateReport: "Generar Informe",
    print: "Imprimir",
    exportExcel: "Exportar a Excel",
    exportPDF: "Exportar a PDF",
    period: "Período",
    daily: "Diario",
    weekly: "Semanal",
    monthly: "Mensual",
    yearly: "Anual",
    custom: "Personalizado",
    allTime: "Todo el Tiempo",
    selectDateRange: "Seleccionar rango de fechas",
    restaurantReport: "Informe del Restaurante",

    // Report Sections
    salesAndBilling: "Ventas y Facturación",
    orderManagement: "Gestión de Comandas",
    inventoryControl: "Control de Inventario",
    financialInformation: "Información Financiera",
    staffPerformance: "Rendimiento del Personal",
    customersAndMarketing: "Clientes y Marketing",
    reservationsAndOccupancy: "Reservas y Ocupación",

    // Report Data
    totalRevenue: "Ingresos Totales",
    totalCosts: "Costos Totales",
    grossProfit: "Beneficio Bruto",
    profitMargin: "Margen de Beneficio",
    totalStaff: "Personal Total",
    totalHours: "Horas Totales",
    ordersPerHour: "Comandas por Hora",
    avgPerformanceRating: "Calificación Media de Rendimiento",
    totalCustomers: "Clientes Totales",
    newCustomers: "Clientes Nuevos",
    returningCustomers: "Clientes Recurrentes",
    avgSatisfaction: "Satisfacción Media",
    totalReservations: "Reservas Totales",
    completedReservations: "Reservas Completadas",
    cancelledReservations: "Reservas Canceladas",
    noShows: "No Presentados",
    totalItems: "Artículos Totales",
    lowStockItems: "Artículos con Stock Bajo",
    outOfStockItems: "Artículos Agotados",
    totalInventoryValue: "Valor Total del Inventario",
    completedOrders: "Comandas Completadas",
    pendingOrders: "Comandas Pendientes",
    cancelledOrders: "Comandas Canceladas",
    avgServiceTime: "Tiempo Medio de Servicio",
    minutes: "minutos",
    loadingReportData: "Cargando datos del informe...",
    noDetailedDataAvailable: "No hay datos detallados disponibles para esta sección",

    // Table status
    ordering: "Ordenando",
    preparing: "Preparando",
    ready: "Listo",
    served: "Servido",

    // Table map controls
    zoomIn: "Acercar",
    zoomOut: "Alejar",
    resetView: "Restablecer Vista",
    refresh: "Actualizar",
    zoom: "Zoom",

    // Table map tooltips
    tableStatus: "Estado de la Mesa",
    tableDetails: "Detalles de la Mesa",

    // Grid view
    gridView: "Vista de Cuadrícula",
    mapView: "Vista de Mapa",
    searchTables: "Buscar mesas...",
    allStatuses: "Todos los Estados",
    sortBy: "Ordenar Por",
    noTablesMatchFilter: "Ninguna mesa coincide con tus criterios de filtro",

    // Table card
    edit: "Editar",
    delete: "Eliminar",
    viewOrder: "Ver Comanda",
    serve: "Servir",
    close: "Cerrar",
    confirmDelete: "Confirmar Eliminación",
    deleteTableConfirmation: "¿Estás seguro de que quieres eliminar la mesa {table}? Esta acción no se puede deshacer.",
  },
  pt: {
    // Existing translations...

    // Settings
    profile: "Perfil",
    profileSettingsDescription: "Gerencie suas informações pessoais e configurações de conta",
    notifications: "Notificações",
    notificationSettingsDescription: "Configure como você recebe notificações",
    language: "Idioma",
    languageSettingsDescription: "Escolha seu idioma preferido",
    appearance: "Aparência",
    appearanceSettingsDescription: "Personalize a aparência do aplicativo",
    tableMaps: "Mapas de Mesas",
    tableMapSettingsDescription: "Crie e gerencie layouts de mesas do restaurante",
    system: "Sistema",
    systemSettingsDescription: "Configure as configurações do sistema",

    // Profile
    username: "Nome de Usuário",
    email: "Email",
    phoneNumber: "Número de Telefone",
    position: "Cargo",
    positionPlaceholder: "ex. Garçom Chefe, Bartender",
    role: "Função",
    selectRole: "Selecione uma função",
    uploadPhoto: "Carregar Foto",
    emailCannotBeChanged: "O email não pode ser alterado",
    saveChanges: "Salvar Alterações",
    saving: "Salvando...",
    profileUpdated: "Perfil Atualizado",
    profileUpdateSuccess: "Seu perfil foi atualizado com sucesso",
    profileUpdateFailed: "Falha na Atualização do Perfil",
    profileUpdateError: "Ocorreu um erro ao atualizar seu perfil",

    // Notifications
    notificationTypes: "Tipos de Notificação",
    newOrders: "Novos Pedidos",
    newOrdersDescription: "Receber notificações quando novos pedidos são criados",
    orderUpdates: "Atualizações de Pedidos",
    orderUpdatesDescription: "Receber notificações quando pedidos são atualizados",
    inventoryAlerts: "Alertas de Inventário",
    inventoryAlertsDescription: "Receber notificações quando itens do inventário estão baixos",
    systemAnnouncements: "Anúncios do Sistema",
    systemAnnouncementsDescription: "Receber anúncios importantes do sistema",
    dailyReports: "Relatórios Diários",
    dailyReportsDescription: "Receber relatórios resumidos diários",
    deliveryMethods: "Métodos de Entrega",
    emailNotifications: "Notificações por Email",
    emailNotificationsDescription: "Receber notificações por email",
    pushNotifications: "Notificações Push",
    pushNotificationsDescription: "Receber notificações no seu navegador",
    soundAlerts: "Alertas Sonoros",
    soundAlertsDescription: "Tocar som quando notificações chegarem",
    notificationPreferencesSaved: "Preferências de Notificação Salvas",
    notificationPreferencesSuccess: "Suas preferências de notificação foram salvas com sucesso",
    notificationPreferencesFailed: "Falha nas Preferências de Notificação",
    notificationPreferencesError: "Ocorreu um erro ao salvar suas preferências de notificação",

    // Language
    languagePreferenceSaved: "Preferência de Idioma Salva",
    languagePreferenceSuccess: "Sua preferência de idioma foi salva com sucesso",
    languagePreferenceFailed: "Falha na Preferência de Idioma",
    languagePreferenceError: "Ocorreu um erro ao salvar sua preferência de idioma",

    // Appearance
    lightMode: "Modo Claro",
    darkMode: "Modo Escuro",
    systemMode: "Modo do Sistema",
    appearancePreferenceSaved: "Preferência de Aparência Salva",
    appearancePreferenceSuccess: "Sua preferência de aparência foi salva com sucesso",
    appearancePreferenceFailed: "Falha na Preferência de Aparência",
    appearancePreferenceError: "Ocorreu um erro ao salvar sua preferência de aparência",

    // Table Maps
    createTableMap: "Criar Mapa de Mesas",
    createTableMapDescription: "Crie um novo layout de mesas para seu restaurante",
    mapName: "Nome do Mapa",
    mapNamePlaceholder: "ex. Salão Principal, Terraço",
    mapDescription: "Descrição",
    mapDescriptionPlaceholder: "ex. Área de refeições do primeiro andar",
    create: "Criar",
    cancel: "Cancelar",
    viewTableMap: "Ver Mapa",
    editTableMap: "Editar Mapa",
    deleteTableMap: "Excluir Mapa",
    noTableMapsFound: "Nenhum Mapa de Mesas Encontrado",
    noTableMapsFoundDescription: "Crie seu primeiro mapa de mesas para começar",

    // Tables
    tables: "Mesas",
    tableNumber: "Número da Mesa",
    seats: "Lugares",
    shape: "Forma",
    square: "Quadrada",
    round: "Redonda",
    rectangle: "Retangular",
    status: "Status",
    available: "Disponível",
    occupied: "Ocupada",
    reserved: "Reservada",
    maintenance: "Manutenção",
    positionX: "Posição X",
    positionY: "Posição Y",
    width: "Largura",
    height: "Altura",
    editTable: "Editar Mesa",
    tableProperties: "Propriedades da Mesa",
    selectShape: "Selecione uma forma",
    selectStatus: "Selecione um status",
    addTable: "Adicionar Mesa",
    deleteTable: "Excluir Mesa",
    noTablesInMap: "Não há mesas neste mapa",
    selectTableToEdit: "Selecione uma mesa para editar ou adicione uma nova",

    // Table Map View
    tableMapNotFound: "Mapa de Mesas Não Encontrado",
    tableMapNotFoundDescription: "O mapa de mesas solicitado não pôde ser encontrado",
    backToSettings: "Voltar para Configurações",
    table: "Mesa",
    activeOrder: "Pedido Ativo",
    noActiveOrder: "Sem Pedido Ativo",
    tableAvailableDescription: "Esta mesa está disponível para novos pedidos",
    tableReservedDescription: "Esta mesa está reservada",
    tableMaintenanceDescription: "Esta mesa está em manutenção",
    selectTable: "Selecione uma Mesa",
    selectTableDescription: "Clique em uma mesa para ver detalhes e gerenciar pedidos",
    waiter: "Garçom",
    orderTime: "Hora do Pedido",
    items: "Itens",
    total: "Total",
    close: "Fechar",
    editOrder: "Editar Pedido",
    markAsServed: "Marcar como Servido",
    createOrder: "Criar Pedido",
    createOrderForTable: "Criar Pedido para Mesa",
    createOrderDescription: "Adicione itens ao pedido e especifique quaisquer requisitos especiais",

    // Order Form
    category: "Categoria",
    selectCategory: "Selecione uma categoria",
    allCategories: "Todas as Categorias",
    menuItem: "Item do Menu",
    selectMenuItem: "Selecione um item do menu",
    quantity: "Quantidade",
    itemNotes: "Notas do Item",
    itemNotesPlaceholder: "ex. Sem cebola, molho extra",
    itemDietaryRestrictions: "Restrições Alimentares do Item",
    glutenFree: "Sem Glúten",
    lactoseFree: "Sem Lactose",
    vegan: "Vegano",
    vegetarian: "Vegetariano",
    celiacFriendly: "Adequado para Celíacos",
    addToOrder: "Adicionar ao Pedido",
    orderSummary: "Resumo do Pedido",
    item: "Item",
    price: "Preço",
    noItemsInOrder: "Não há itens no pedido",
    specialRequests: "Solicitações Especiais",
    specialRequestsPlaceholder: "Quaisquer solicitações especiais para todo o pedido",
    orderDietaryRestrictions: "Restrições Alimentares do Pedido",
    submitOrder: "Enviar Pedido",

    // Order Status
    pending: "Pendente",
    preparing: "Preparando",
    ready: "Pronto",
    delivered: "Entregue",
    cancelled: "Cancelado",

    // Dietary Restrictions
    "gluten-free": "Sem Glúten",
    "lactose-free": "Sem Lactose",
    vegan: "Vegano",
    vegetarian: "Vegetariano",
    "celiac-friendly": "Adequado para Celíacos",
    dietaryRestrictions: "Restrições Alimentares",

    // Table Management
    tableNumberExists: "Número da mesa já existe",
    tableAddedSuccess: "Mesa adicionada com sucesso",
    tableAddedError: "Falha ao adicionar mesa",
    tableUpdateError: "Falha ao atualizar mesa",
    tableDeletedSuccess: "Mesa excluída com sucesso",
    tableDeletedError: "Falha ao excluir mesa",

    // Order Management
    closeOrderForTable: "Fechar Pedido para Mesa",
    closeOrderDescription: "Completar o pedido e processar o pagamento",
    subtotal: "Subtotal",
    tax: "Imposto",
    discount: "Desconto",
    discountAmount: "Valor do Desconto",
    paymentMethod: "Método de Pagamento",
    paymentAmount: "Valor do Pagamento",
    tipAmount: "Valor da Gorjeta",
    referenceNumber: "Número de Referência",
    referenceNumberPlaceholder: "Referência da transação ou últimos 4 dígitos",
    completePayment: "Completar Pagamento",
    cash: "Dinheiro",
    creditCard: "Cartão de Crédito",
    debitCard: "Cartão de Débito",
    otherPayment: "Outro Método de Pagamento",

    // Reports
    reports: "Relatórios",
    exportToCSV: "Exportar para CSV",
    filterOptions: "Opções de Filtro",
    filterDescription: "Filtrar pedidos por intervalo de datas e critérios de busca",
    startDate: "Data de Início",
    endDate: "Data de Término",
    search: "Buscar",
    searchPlaceholder: "Buscar por garçom, mesa ou ID do pedido",
    totalSales: "Vendas Totais",
    averageOrderValue: "Valor Médio do Pedido",
    totalTips: "Gorjetas Totais",
    totalOrders: "Pedidos Totais",
    perOrder: "por pedido",
    ofSales: "das vendas",
    closedOrders: "pedidos fechados",
    ordersList: "Lista de Pedidos",
    topSellingItems: "Itens Mais Vendidos",
    salesByCategory: "Vendas por Categoria",
    salesByPaymentMethod: "Vendas por Método de Pagamento",
    showing: "Mostrando",
    of: "de",
    orderId: "ID do Pedido",
    table: "Mesa",
    waiter: "Garçom",
    date: "Data",
    items: "Itens",
    total: "Total",
    payment: "Pagamento",
    noOrdersFound: "Nenhum pedido encontrado",
    showingFirst: "Mostrando primeiros",
    topSellingItemsDescription: "Itens mais populares por quantidade vendida",
    salesByCategoryDescription: "Detalhamento de receita por categoria",
    salesByPaymentMethodDescription: "Detalhamento de receita por método de pagamento",
    item: "Item",
    quantity: "Quantidade",
    revenue: "Receita",
    percentage: "Porcentagem",
    category: "Categoria",
    noDataAvailable: "Nenhum dado disponível",

    // Advanced Reports
    advancedReports: "Relatórios Avançados",
    restaurantReports: "Relatórios do Restaurante",
    restaurantReportsDescription:
      "Gere relatórios abrangentes com informações detalhadas sobre o desempenho do seu restaurante",
    generateReport: "Gerar Relatório",
    print: "Imprimir",
    exportExcel: "Exportar para Excel",
    exportPDF: "Exportar para PDF",
    period: "Período",
    daily: "Diário",
    weekly: "Semanal",
    monthly: "Mensal",
    yearly: "Anual",
    custom: "Personalizado",
    allTime: "Todo o Tempo",
    selectDateRange: "Selecionar intervalo de datas",
    restaurantReport: "Relatório do Restaurante",

    // Report Sections
    salesAndBilling: "Vendas e Faturamento",
    orderManagement: "Gestão de Pedidos",
    inventoryControl: "Controle de Estoque",
    financialInformation: "Informações Financeiras",
    staffPerformance: "Desempenho da Equipe",
    customersAndMarketing: "Clientes e Marketing",
    reservationsAndOccupancy: "Reservas e Ocupação",

    // Report Data
    totalRevenue: "Receita Total",
    totalCosts: "Custos Totais",
    grossProfit: "Lucro Bruto",
    profitMargin: "Margem de Lucro",
    totalStaff: "Total de Funcionários",
    totalHours: "Horas Totais",
    ordersPerHour: "Pedidos por Hora",
    avgPerformanceRating: "Avaliação Média de Desempenho",
    totalCustomers: "Total de Clientes",
    newCustomers: "Novos Clientes",
    returningCustomers: "Clientes Recorrentes",
    avgSatisfaction: "Satisfação Média",
    totalReservations: "Total de Reservas",
    completedReservations: "Reservas Concluídas",
    cancelledReservations: "Reservas Canceladas",
    noShows: "Não Comparecimentos",
    totalItems: "Total de Itens",
    lowStockItems: "Itens com Estoque Baixo",
    outOfStockItems: "Itens Esgotados",
    totalInventoryValue: "Valor Total do Estoque",
    completedOrders: "Pedidos Concluídos",
    pendingOrders: "Pedidos Pendentes",
    cancelledOrders: "Pedidos Cancelados",
    avgServiceTime: "Tempo Médio de Serviço",
    minutes: "minutos",
    loadingReportData: "Carregando dados do relatório...",
    noDetailedDataAvailable: "Não há dados detalhados disponíveis para esta seção",

    // Table status
    ordering: "Pedindo",
    preparing: "Preparando",
    ready: "Pronto",
    served: "Servido",

    // Table map controls
    zoomIn: "Aproximar",
    zoomOut: "Afastar",
    resetView: "Redefinir Visualização",
    refresh: "Atualizar",
    zoom: "Zoom",

    // Table map tooltips
    tableStatus: "Status da Mesa",
    tableDetails: "Detalhes da Mesa",

    // Grid view
    gridView: "Visualização em Grade",
    mapView: "Visualização do Mapa",
    searchTables: "Pesquisar mesas...",
    allStatuses: "Todos os Status",
    sortBy: "Ordenar Por",
    noTablesMatchFilter: "Nenhuma mesa corresponde aos seus critérios de filtro",

    // Table card
    edit: "Editar",
    delete: "Excluir",
    viewOrder: "Ver Pedido",
    serve: "Servir",
    close: "Fechar",
    confirmDelete: "Confirmar Exclusão",
    deleteTableConfirmation: "Tem certeza de que deseja excluir a mesa {table}? Esta ação não pode ser desfeita.",
  },
}

interface I18nContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
}

const I18nContext = createContext<I18nContextType>({
  language: "en",
  setLanguage: () => {},
  t: (key) => key,
})

export const useI18n = () => useContext(I18nContext)

export function I18nProvider({ children }: { children: React.ReactNode }) {
  const [language, setLanguage] = useState<Language>("en")

  useEffect(() => {
    // Load language preference from localStorage if available
    const savedLanguage = localStorage.getItem("language") as Language
    if (savedLanguage && ["en", "es", "pt"].includes(savedLanguage)) {
      setLanguage(savedLanguage)
    } else {
      // Try to detect browser language
      const browserLang = navigator.language.split("-")[0]
      if (browserLang === "es" || browserLang === "pt") {
        setLanguage(browserLang as Language)
      }
    }
  }, [])

  const changeLanguage = (lang: Language) => {
    setLanguage(lang)
    localStorage.setItem("language", lang)
  }

  const translate = (key: string): string => {
    const currentTranslations = translations[language] as Record<string, string>
    return currentTranslations[key] || key
  }

  return (
    <I18nContext.Provider
      value={{
        language,
        setLanguage: changeLanguage,
        t: translate,
      }}
    >
      {children}
    </I18nContext.Provider>
  )
}

